/*
 * LeetCode168.cpp
 *
 *  Created on: 2015年8月4日
 *      Author: juanecho
 */
#include<stdlib.h>
#include "leetcode.h"


class Solution {
public:
	 int compareVersion(string version1, string version2) {
		    int i = 0;
		 	while(i < version1.length() && version1[i] == '0')i++;
		 	version1 = version1.substr(i);
		 	i = 0;
		 	while(i < version2.length() && version2[i] == '0')i++;
		 	version2 = version2.substr(i);
		 	int indexA = version1.find_first_of('.',0);
		 	int indexB = version2.find_first_of('.',0);
		 	string strA,strAA,strB,strBB;
		 	if(indexA == -1){
		 		strA=version1;
		 		strAA = " ";
		 	}else{
		 		 strA = version1.substr(0,indexA);
		 	     strAA =version1.substr(indexA+1);
		 	}
		 	if(indexB == -1){
		 		strB = version2;
		 		strBB = " ";
		 	}else{
		 		strB = version2.substr(0,indexB);
		 		strBB = version2.substr(indexB+1);
		 	}
			int len_a = strA.length();
			int len_b = strB.length();
			if(len_b - len_a == 0){
				if(strA.compare(strB) > 0) return 1;
				if(strA.compare(strB) < 0) return -1;
			}else{
				return  (len_b - len_a)>0?-1:1;
			}
			if(indexA == -1 && indexB == -1) return 0;
			if(indexA == -1&& indexB != -1){
				return -1;
			}else if(indexB == -1&& indexA != -1){
				return 1;
			}else{
				int k = 0;
				while(k < strAA.length() && k < strBB.length()){
					if(strAA[k] == strBB[k]){
						k++;
					}else if(strAA[k] > strBB[k]){
						return 1;
					}else{
						return -1;
					}
				}
				if( k < strAA.length()){
					return 1;
				}else if(k < strBB.length()){
					return -1;
				}
			}
			return 0;
	}
};
int main(){
	Solution * s= new Solution();
	string stra = "1.1";
	string strb = "1.01";
	cout<<s->compareVersion(stra,strb)<<endl;
	stra = "01";
	strb = "1";
	cout<<s->compareVersion(stra,strb)<<endl;
	return 0;
}
