#include "leetcode.h"
#include<stdint.h>

class Solution {
public:
	bool isUgly(int num) {
		if (num <= 0)
			return 0;
		if (num <= 5)
			return 1;
		while (num % 2 == 0 || num % 3 == 0 || num % 5 == 0) {
			num = num % 2 == 0 ? (num / 2) : num;
			num = num % 3 == 0 ? (num / 3) : num;
			num = num % 5 == 0 ? (num / 5) : num;
		}
		if (num != 1) {
			return false;
		}
		return true;
	}

	int nthUglyNumber(int n) {
		if(n <= 6) return n;
		int i = 7;
		while(true && (n - 6)){
			if(isUgly(i))
				n--;
			i++;
		}
		return i - 1;
	}
};

int main() {
	Solution * s = new Solution();
	cout << s->nthUglyNumber(6) << endl;
	cout << s->nthUglyNumber(7) << endl;
	cout << s->nthUglyNumber(8) << endl;
	cout << s->nthUglyNumber(9) << endl;
	cout << s->nthUglyNumber(10) << endl;
	cout << s->nthUglyNumber(11) << endl;
	return 0;
}
