/*
 * LeetCode005.cpp
 *
 *  Created on: 2015年8月4日
 *      Author: juanecho
 */

#include "leetcode.h"

class Solution {
public:
	int strStr(string haystack, string needle) {
		int j = 0;
		int len_h = haystack.length();
		int len_n = needle.length();
		if(len_n > len_h || len_n ==0) return -1;
		int index = haystack.find_first_of(needle[0]);
		if(index != -1){
			if(len_h - index >= len_n){
				cout<<"Index  = "<<index<<endl;
				for(int i = index,j = 0; i < len_h&&j<len_n; i++,j++){
						if(haystack[i] != needle[j]){
							break;
						}
					if(j == len_n) return index;
					index = haystack.find_first_of(index,needle[0]);
					cout<<"index  = "<<index<<endl;
					if(index == -1) return index;
					if(len_h - index < len_n){
						return -1;
					}
				}
			}
		}
		return index;
	}
};

int main(){
	Solution * s= new Solution();
	string a = "abcd";
	string b = "bc";
	cout<<s->strStr(a,b)<<endl;
	return 0;
}
