#include "leetcode.h"
#include<stdint.h>

class Solution {
public:
	int nthUglyNumber(int n) {
		int factor2= 2, factor3= 3,factor5 = 5;
		int index2 = 0,index3 = 0, index5 =0;
		int ugly[n], minNum = 0;
		ugly[0] = 1;
		for(int i = 1; i < n; i++){
			minNum = min(min(factor2,factor3),factor5);
			ugly[i] = minNum;
			if(factor2 == minNum){
				factor2 = 2 * ugly[++index2];
			}else if(factor3 == minNum){
				factor3 = 3 * ugly[++index3];
			}else if(factor5 == minNum){
				factor5 = 5 * ugly[++index5];
			}
			cout<<ugly[i]<<"\t"<<"index2="<<index2<<" index3="<<index3<<" index5="<<index5<<"\t\t"<<endl;
			cout<<ugly[i]<<"\t"<<"factor2="<<factor2<<" factor3="<<factor3<<" factor5="<<factor5<<"\t\t"<<endl;
		}
		for(int i = 0; i < n; i++){
			cout<<"ugly["<<i<<"]="<<ugly[i]<<"\t\t";
		}
		cout<<endl;
		return ugly[n-1];
	}
};

int main() {
	Solution * s = new Solution();
	cout << s->nthUglyNumber(6) << endl;
	cout << s->nthUglyNumber(7) << endl;
	cout << s->nthUglyNumber(8) << endl;
	cout << s->nthUglyNumber(9) << endl;
	cout << s->nthUglyNumber(10) << endl;
	cout << s->nthUglyNumber(11) << endl;
	return 0;
}
